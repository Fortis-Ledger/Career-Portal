(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8722],{2708:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(2432);t(80364);var r=t(89932),i=t(46992),n=t(84963);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:s,variant:t,size:i,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:t,size:i,className:s})),...c})}},14902:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},16765:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(2432);t(80364);var r=t(89932),i=t(46992),n=t(84963);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,asChild:i=!1,...d}=e,c=i?r.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(l({variant:t}),s),...d})}},22725:(e,s,t)=>{"use strict";t.d(s,{CompaniesListClient:()=>b});var a=t(2432),r=t(80364),i=t(39262),n=t(77382),l=t(2708),d=t(16765),c=t(14902),o=t(4168);let u=(0,o.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m=(0,o.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var h=t(41194),x=t(73388),p=t(83702),g=t(32317),v=t.n(g);function f(e){let{message:s,onClose:t}=e;return(0,r.useEffect)(()=>{let e=setTimeout(()=>{t()},5e3);return()=>clearTimeout(e)},[t]),(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),s]})})}function b(e){let{companies:s}=e,[t,o]=(0,r.useState)(""),[g,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(s),w=(0,i.useSearchParams)();(0,i.useRouter)(),(0,r.useEffect)(()=>{let e=w.get("success");e&&o(e)},[w]),(0,r.useEffect)(()=>{j(s)},[s]);let k=e=>({startup:"Startup",small:"Small (1-50)",medium:"Medium (51-200)",large:"Large (201-1000)",enterprise:"Enterprise (1000+)"})[e]||e,N=async(e,s)=>{if(confirm('Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.'))){b(e);try{let s=await fetch("/api/admin/companies/".concat(e),{method:"DELETE"}),t=await s.json();if(!s.ok){console.error("Delete API error:",t.error),alert("Error deleting company: ".concat(t.error));return}console.log("Company successfully deleted from database"),j(s=>s.filter(s=>s.id!==e)),o("Company permanently deleted from database"),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Error:",e),alert("Error deleting company. Please try again.")}finally{b(null)}}};return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(f,{message:t,onClose:()=>o("")}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:y.map(e=>(0,a.jsxs)(n.Zp,{className:"bg-slate-800/50 border-slate-700 backdrop-blur-sm hover:shadow-lg transition-shadow",children:[(0,a.jsx)(n.aR,{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.logo_url?(0,a.jsx)("img",{src:e.logo_url,alt:"".concat(e.name," logo"),className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg object-cover flex-shrink-0"}):(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)(n.ZB,{className:"text-base sm:text-lg text-white truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-400 truncate",children:e.industry})]})]}),(0,a.jsx)("div",{className:"flex gap-1 flex-shrink-0",children:(0,a.jsx)(d.E,{variant:e.is_active?"default":"secondary",className:"text-xs",children:e.is_active?"Active":"Inactive"})})]})}),(0,a.jsx)(n.Wu,{className:"p-4 sm:p-6 pt-0",children:(0,a.jsxs)("div",{className:"space-y-3",children:[e.description&&(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-400 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-slate-400",children:[e.location&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u,{className:"w-3 h-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.location})]}),e.size_category&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m,{className:"w-3 h-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:k(e.size_category)})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-2",children:[(0,a.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-white",children:e.jobCount}),(0,a.jsx)("span",{className:"text-slate-400",children:" active jobs"})]}),(0,a.jsxs)("div",{className:"flex gap-1 sm:gap-2",children:[e.website_url&&(0,a.jsx)(l.$,{variant:"outline",size:"sm",asChild:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50 p-2",children:(0,a.jsx)("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(h.A,{className:"w-3 h-3"})})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",asChild:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50 p-2",children:(0,a.jsx)(v(),{href:"/admin/companies/".concat(e.id,"/edit"),children:(0,a.jsx)(x.A,{className:"w-3 h-3"})})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>N(e.id,e.name),disabled:g===e.id,className:"bg-slate-700/50 border-slate-600 text-red-400 hover:text-red-300 hover:bg-red-900/20 p-2",children:(0,a.jsx)(p.A,{className:"w-3 h-3"})})]})]})]})})]},e.id))}),0===y.length&&(0,a.jsx)(n.Zp,{className:"bg-slate-800/50 border-slate-700 backdrop-blur-sm text-center",children:(0,a.jsxs)(n.Wu,{className:"p-8 sm:p-12",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 sm:w-16 sm:h-16 text-slate-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2 text-white",children:"No Companies Yet"}),(0,a.jsx)("p",{className:"text-slate-400 mb-6 text-sm sm:text-base",children:"Start by adding your first company to the platform."}),(0,a.jsx)(l.$,{asChild:!0,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full sm:w-auto",children:(0,a.jsxs)(v(),{href:"/admin/companies/new",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Add First Company"]})})]})})]})}},39262:(e,s,t)=>{"use strict";var a=t(66834);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},41194:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},73388:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},77382:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>n});var a=t(2432);t(80364);var r=t(84963);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}},77761:(e,s,t)=>{Promise.resolve().then(t.bind(t,22725)),Promise.resolve().then(t.t.bind(t,32317,23))},83702:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84963:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(12126),r=t(68441);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[2317,3424,5022,5575,7358],()=>s(77761)),_N_E=e.O()}]);